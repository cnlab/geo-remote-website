<div class="authors-grid">
    {% assign affil_data = site.data.affiliations %}
    
    {% for author in site.data.authors %}
      <div class="author-card" onclick="this.classList.toggle('expanded')">
        {% if author.photo %}
          <img src="{{ '/assets/images/team/' | relative_url }}{{ author.photo }}" 
               alt="{{ author.name }}" 
               class="author-photo">
        {% endif %}
        
        <div class="author-info">
          <h3>
            {{ author.name }}
            {% if author.cofirst %}<span class="cofirst-label">*</span>{% endif %}
            {% if author.orcid %}
              <a href="https://orcid.org/{{ author.orcid }}" class="orcid-link" target="_blank" onclick="event.stopPropagation()">
                <img src="{{ '/assets/images/orcid.svg' | relative_url }}" alt="ORCID" width="16">
              </a>
            {% endif %}
          </h3>
  
          <div class="affiliations">
            {% for num in author.affil %}
              <sup>{{ num }}</sup>{% unless forloop.last %}, {% endunless %}
            {% endfor %}
            <div class="full-affil">
              {% for num in author.affil %}
                {{ affil_data[num] }}{% unless forloop.last %}; {% endunless %}
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
  
  <style>
  .author-card.expanded .full-affil {
    display: block;
  }
  </style>